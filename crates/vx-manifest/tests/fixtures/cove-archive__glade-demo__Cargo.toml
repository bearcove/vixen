[package]
name = "glade-demo"
version = "0.1.0"
edition = "2024"
description = "Demo application showcasing Glade UI components"

[lib]
crate-type = ["cdylib", "rlib"]

[dependencies]
leptos = "0.8"
leptos_meta = "0.8"
leptos_router = "0.8"
glade = { path = "../glade" }
console_error_panic_hook = "0.1"
chrono = "0.4"

# Server dependencies
axum = { version = "0.8", optional = true }
tokio = { version = "1", features = ["rt-multi-thread", "macros"], optional = true }
tower = { version = "0.5", optional = true }
tower-http = { version = "0.6", features = ["fs"], optional = true }
leptos_axum = { version = "0.8", optional = true }

# Client dependencies
wasm-bindgen = { version = "0.2", optional = true }
gloo-history = { version = "0.2", optional = true }
gloo-utils = { version = "0.2", optional = true }

[features]
default = []
hydrate = ["leptos/hydrate", "dep:wasm-bindgen"]
ssr = ["leptos/ssr", "dep:axum", "dep:tokio", "dep:tower", "dep:tower-http", "dep:leptos_axum"]

[package.metadata.leptos]
# Name of the binary target used for `cargo leptos serve`
bin-target = "glade-demo"

# The site root folder (relative to workspace root since we use workspace target)
site-root = "target/site"

# The site-pkg-dir is the folder within the site-root where the compiled WASM and JS live
site-pkg-dir = "pkg"

# Assets folder
assets-dir = "assets"

# The IP and port for the server
site-addr = "127.0.0.1:3000"

# The port for the browser to use in hot-reload
reload-port = 3001

# Watch for changes to these files
watch-additional-files = ["css"]

# Browser query - target modern browsers to preserve light-dark() CSS function
browserquery = "last 2 Chrome versions, last 2 Firefox versions, last 2 Safari versions"

# Features for the hydrate build
lib-features = ["hydrate"]
lib-default-features = false

# Features for the SSR build
bin-features = ["ssr"]
bin-default-features = false

# Stylesheets
style-file = "css/demo.scss"

[lints]
workspace = true
