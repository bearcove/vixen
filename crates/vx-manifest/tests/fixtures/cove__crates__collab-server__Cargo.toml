[package]
name = "collab-server"
version = "0.1.0"
edition = "2024"
publish = false
description = "Storage-agnostic CRDT-based collaboration infrastructure for real-time document editing with cursor tracking"

[dependencies]
anyhow = "1.0.100"
async-trait = "0.1.89"
dashmap = "6.1.0"
edith = { path = "../edith", features = ["code"] }
serde = { version = "1.0", features = ["derive"] }
serde_bytes = "0.11.19"
tokio = { version = "1.48.0", features = ["sync", "macros"] }
tracing = "0.1"
yrs = "0.24.0"

# Optional Dioxus integration
dioxus = { version = "0.7.1", features = ["fullstack", "server"], optional = true }
parking_lot.workspace = true

[features]
default = []
dioxus-ws = ["dioxus"]

[dev-dependencies]
tokio = { version = "1.0", features = ["full"] }

[lints]
workspace = true
