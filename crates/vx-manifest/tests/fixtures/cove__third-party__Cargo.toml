[workspace]

[package]
name = "rust-third-party"
version = "0.0.0"
publish = false
edition = "2021"

# Dummy binary to satisfy Cargo
[[bin]]
name = "fake"
path = "/dev/null"

[dependencies]
# Dependencies for cove-deploy
clap = { version = "4", features = ["derive"] }
tokio = { version = "1", features = ["full"] }
# Use native-tls (system OpenSSL) instead of rustls with aws-lc
reqwest = { version = "0.12", default-features = true, features = ["json", "native-tls"] }
serde = { version = "1", features = ["derive"] }
serde_json = "1"
serde_yaml_bw = "2.5"
anyhow = "1"
dialoguer = "0.11"
console = "0.15"
regex = "1"
minijinja = { version = "2", features = ["loader"] }

# Dependencies for grove server
dioxus = { version = "0.7.1", features = ["router", "fullstack", "server", "signals"] }
dioxus-signals = "0.7.1"
stylance = { git = "https://github.com/fasterthanlime/stylance-rs", branch = "buck2" }
chrono = { version = "0.4", features = ["serde"] }
jiff = "0.2"
html-escape = "0.2"
turf = "0.10.1"
remoc = "0.18"
thiserror = "1"
tracing = "0.1"
tracing-subscriber = { version = "0.3", features = ["env-filter", "time"] }
tracing-appender = "0.2"
axum = { version = "0.8", features = ["ws"] }
dotenvy = "0.15"
camino = { version = "1.2", features = ["serde1"] }
dashmap = "6.1"
parking_lot = "0.12"
rust-mcp-schema = "0.7.5"
tempfile = "3.23"
time = { version = "0.3.44", features = ["macros"] }
uuid = { version = "1", features = ["v7", "serde"] }
futures = "0.3"
bytes = "1.11.0"
aliri_braid = "0.4"
async-trait = "0.1"
postcard = { version = "1.0", features = ["alloc"] }
serde_bytes = "0.11"
agent-client-protocol-schema = { version = "0.6.3", features = ["unstable"] }
strum = { version = "0.27.2", features = ["derive"] }
rand = "0.9"
inventory = "0.3"

# Dependencies for tar-layer (fast parallel tar+gzip)
gzp = { version = "2", default-features = false, features = ["deflate_rust"] }
tar = "0.4"

# Syntax highlighting with arborium (replaces tree-sitter-wasm)
arborium = { version = "2.3.2", features = [
    "lang-asm",
    "lang-bash",
    "lang-css",
    "lang-go",
    "lang-html",
    "lang-javascript",
    "lang-json",
    "lang-markdown",
    "lang-python",
    "lang-rust",
    "lang-scss",
    "lang-toml",
    "lang-typescript",
    "lang-yaml",
] }
# Arborium's tree-sitter fork (used by lodge-search, morph, viem, edith)
arborium-tree-sitter = "2.3.2"
arborium-rust = "2.3.2"
arborium-asm = "2.3.2"

# Web/wasm dependencies for glade-dioxus and grove
futures-channel = "0.3"
futures-util = "0.3"
gloo-events = "0.2"
gloo-net = "0.6"
gloo-timers = { version = "0.3", features = ["futures"] }
js-sys = "0.3"
web-sys = { version = "0.3", features = ["Window", "Document", "Element", "Event", "EventTarget", "DataTransfer", "HtmlElement", "HtmlInputElement", "ClipboardEvent", "KeyboardEvent", "AddEventListenerOptions", "Navigator", "Clipboard", "Location", "console"] }
wasm-bindgen = "=0.2.105"
wasm-bindgen-futures = "0.4"

# Wasm-only dependencies
dlmalloc = { version = "0.2", features = ["global"] }
tracing-wasm = "0.2"
wasmtimer = "0.4"
dioxus-web = "0.7.1"
serde-wasm-bindgen = "0.6"

# HTML parsing for varnish/mark
html5ever = "0.36"
markup5ever = "0.36"
markup5ever_rcdom = "0.36"
pulldown-cmark = "0.13"
ammonia = "4.1"
html2md = "0.2"

# Editor infrastructure (edith, viem, collab-server, lexi)
yrs = "0.24"
lsp-types = "0.94"
ulid = "1.1"
getrandom = { version = "0.3", features = ["wasm_js"] }

# Dependencies for wat
urlencoding = "2.1"
indoc = "2.0"
censor = "0.3"
flume = { version = "0.11", features = ["async"] }
easer = "0.3"
axum-extra = { version = "0.10", features = ["typed-header"] }
tower = { version = "0.5", features = ["steer", "util"] }
tower-cookies = { version = "0.11", features = ["private"] }
tower-http = { version = "0.6", features = ["full"] }
base64 = "0.22"
sha2 = "0.10"
webauthn-rs-proto = { version = "0.5", features = ["wasm"] }
qrcode-generator = "5.0"
dioxus-motion = { git = "https://github.com/fasterthanlime/dioxus-motion.git", branch = "rc" }
object_store = { version = "0.12", features = ["aws", "http"] }
metrics = "0.24"
include_dir = "0.7"
totp-rs = { version = "5.5", features = ["qr"] }
webauthn-rs = { version = "0.5", features = ["conditional-ui"] }

# Dependencies for fresh (container registry client)
oci-client = "0.15"
docker_credential = "1.3"
prettytable-rs = "0.10"

# Dependencies for libsvg
fontcull = { version = "2.0.0", features = ["static-analysis"] }

# Dependencies for wat (postgres support with sqlx)
sqlx = { version = "0.8.6", default-features = false, features = ["runtime-tokio-rustls", "postgres", "chrono", "json", "uuid", "macros"] }
async-openai = "0.27"
bcrypt = "0.16"
apalis = { version = "0.7", features = ["retry"] }
apalis-sql = { version = "0.7", features = ["postgres"] }
apalis-core = "0.7"
jsonwebtoken = "9.3"
maxminddb = "0.24"
once_cell = "1.20"
woothee = "0.13"
tonic = "0.14"
opentelemetry-appender-tracing = "0.31"
tracing-opentelemetry = "0.32"
lettre = { version = "0.11", features = ["tokio1", "tokio1-native-tls"] }
chacha20poly1305 = "0.10"
arborium-highlight = "2.3.2"
identicon-rs = "7.0"
axum-prometheus = "0.7"

# Dependencies for home
eyre = "0.6"
facet = { version = "0.32.3", features = ["camino", "net", "ordered-float", "time"] }
facet-json = "0.32.3"
facet-pretty = "0.32.3"
facet-yaml = "0.32.3"
facet-reflect = "0.32.3"
facet-args = "0.32.3"
rusqlite = { version = "0.32.1", default-features = false, features = ["time", "trace"] }
r2d2 = "0.8"
r2d2_sqlite = "0.25"
autotrait = "0.2"
log = "0.4"
env_logger = "0.11"
nix = { version = "0.30", features = ["process", "signal"] }
libc = "0.2"
http = "1.3"
hyper = { version = "1.7", features = ["server", "http1"] }
reqwest-middleware = "0.4"
reqwest-retry = "0.7"
rubicon = "3.4"
# Use graviola provider - pure Rust, no build script, no aws-lc/ring
rustls = { version = "0.23", default-features = false, features = ["std", "tls12"] }
rustls-graviola = "0.3"
graviola = "0.3"
# Disable aws-lc-rs default on hyper-rustls and tokio-rustls
hyper-rustls = { version = "0.27", default-features = false, features = ["http1", "http2", "tls12", "native-tokio", "logging"] }
tokio-rustls = { version = "0.26", default-features = false, features = ["tls12"] }
# Use providerless variants to avoid aws-lc-rs/ring
axum-server = { version = "0.7", default-features = false, features = ["tls-rustls-no-provider"] }
bollard = { version = "0.19", default-features = false, features = ["http", "pipe", "ssl_providerless"] }
testcontainers = { version = "0.25", default-features = false, features = ["ssl"] }
# native-tls uses system OpenSSL
tokio-tungstenite = { version = "0.26", default-features = false, features = ["connect", "handshake", "native-tls"] }
tokio-stream = "0.1"
rcgen = "0.13"
futures-core = "0.3"
url = { version = "2.5", features = ["serde"] }
form_urlencoded = "1.2"
percent-encoding = "2.3"
slug = "0.1"
strsim = "0.11"
strip-ansi-escapes = "0.2"
itertools = "0.14"
saphyr = { version = "0.0.4", default-features = false }
lol_html = "2.6"
quick-xml = "0.37"
lightningcss = { version = "=1.0.0-alpha.65", default-features = false, features = ["grid", "visitor", "browserslist"] }
ignore = "0.4"
notify = "8.2"
tempdir = "0.3"
brotli = "8.0"
flate2 = "1.1"
bytesize = "2.0"
open = "5.3"
which = "7.0"
arboard = "3.6"
pin-project-lite = "0.2"
sentry = { version = "0.42", features = ["logs", "log"] }
ordered-float = "5.0"
seahash = "4.1"
rayon = "1.11"
ahash = "0.8"
num_cpus = "1.17"
indicium = { version = "0.5", features = ["simple"], default-features = false }
tantivy = "0.24"
pulldown-latex = "0.7"
owo-colors = "4.2"
portable-pty = "0.9"
shell-quote = "0.7"
term_size = "0.3"
termion = "4.0"
coolor = "1.1"
displaydoc = "0.2"
jsonapi = "0.7"
webpage = { version = "2.0", default-features = false }
atomicwrites = "0.4"
gethostname = "1.0"
hostname = "0.4"
insta = "1.43"
ffmpeg-sidecar = "2.1"
wildmatch = "2.4"
sysinfo = "0.35"
sendfd = "0.4"
opentelemetry = "0.31"
opentelemetry-otlp = { version = "0.31", features = ["grpc-tonic"] }
opentelemetry_sdk = { version = "0.31", features = ["experimental_async_runtime", "rt-tokio", "logs", "metrics"] }
http-range = "0.1"
image = { version = "0.25", default-features = false, features = ["jpeg", "png", "webp", "avif", "avif-native"] }
ravif = "0.11"
rgb = "0.8"
webp = "0.3"
jxl-oxide = "0.12"
jpegxl-rs = { version = "0.11", features = ["vendored"] }
fs-err = { version = "3.1", features = ["tokio"] }

# Additional deps for home crates
hex = "0.4"
hmac = "0.12"
color-backtrace = { version = "0.7", default-features = false, features = ["use-backtrace-crate"] }
color-eyre = { version = "0.6", default-features = false, features = ["track-caller"] }
termcolor = "1.4"
anstyle-parse = "0.2"
redb = "2.6"
