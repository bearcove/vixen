[package]
name = "glade-dioxus"
version = "0.1.0"
edition = "2024"
description = "Stylance-based CSS modules and Dioxus component library"

[dependencies]
dioxus = { workspace = true, features = ["signals"] }
dioxus-signals = "0.7.1"
stylance = { git = "https://github.com/fasterthanlime/stylance-rs", branch = "buck2" }
chrono = "0.4"
jiff = "0.2"
html-escape = "0.2"
shade = { path = "../shade" }
futures-channel = { version = "0.3", optional = true }
futures-util = { version = "0.3", optional = true }
gloo-events = { version = "0.2", optional = true }
gloo-timers = { version = "0.3", optional = true }
js-sys = { version = "0.3", optional = true }
web-sys = { version = "0.3", features = ["Window", "Document", "Element", "Event", "EventTarget", "DataTransfer", "HtmlElement", "HtmlInputElement", "ClipboardEvent", "KeyboardEvent", "AddEventListenerOptions", "Navigator", "Clipboard"], optional = true }
wasm-bindgen = { version = "0.2", optional = true }
wasm-bindgen-futures = { version = "0.4", optional = true }
tracing.workspace = true

[features]
default = []
web = ["futures-channel", "futures-util", "gloo-events", "gloo-timers", "js-sys", "web-sys", "wasm-bindgen", "wasm-bindgen-futures"]
buck2 = []  # Disables asset!() macro which requires CARGO_MANIFEST_DIR

[lints]
workspace = true

[package.metadata.stylance]
output_file = "css/stylance.scss"
class_name_pattern = "[name]-[hash]"
